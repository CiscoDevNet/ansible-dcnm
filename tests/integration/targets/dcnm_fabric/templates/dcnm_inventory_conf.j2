---
# This NDFC test data structure is auto-generated
# DO NOT EDIT MANUALLY
#

# ------------------------------
# Fabric Switches
# ------------------------------

{% if switch_conf is iterable %}
{% set switch_list = [] %}
{% for switch in switch_conf %}
{% set switch_item = {} %}
{% if switch.seed_ip is defined %}
{% set _ = switch_item.update({'seed_ip': switch.seed_ip | default('') }) %}
{% endif %}
{% set _ = switch_item.update({'user_name': switch_username}) %}
{% set _ = switch_item.update({'password': switch_password}) %}
{% if switch.role is defined %}
{% set _ = switch_item.update({'role': switch.role | default('') }) %}
{% endif %}
{% if switch.poap is defined %}
{% for sw_poap_item in switch.poap %}
{% set poap_item = {} %}
{% if sw_poap_item.preprovision_serial is defined and sw_poap_item.preprovision_serial %}
{% set _ = poap_item.update({'preprovision_serial': sw_poap_item.preprovision_serial}) %}
{% endif %}
{% if sw_poap_item.serial_number is defined and sw_poap_item.serial_number %}
{% set _ = poap_item.update({'serial_number': sw_poap_item.serial_number}) %}
{% endif %}
{% if sw_poap_item.model is defined and sw_poap_item.model %}
{% set _ = poap_item.update({'model': sw_poap_item.model}) %}
{% endif %}
{% if sw_poap_item.version is defined and sw_poap_item.version %}
{% set _ = poap_item.update({'version': sw_poap_item.version}) %}
{% endif %}
{% if sw_poap_item.hostname is defined and sw_poap_item.hostname %}
{% set _ = poap_item.update({'hostname': sw_poap_item.hostname}) %}
{% endif %}
{% if sw_poap_item.config_data  is defined %}
{% set poap_config_item = {} %}
{% for sw_poap_config_item in sw_poap_item.config_data  %}
{% set _ = poap_config_item.update({sw_poap_config_item: sw_poap_item.config_data[sw_poap_config_item]}) %}
{% endfor %}
{% set _ = poap_item.update({'config_data': poap_config_item}) %}
{% endif %}
{% set _ = switch_item.update({'poap': [poap_item]}) %}
{% endfor %}
{% else %}
{% if switch.auth_proto is defined %}
{% set _ = switch_item.update({'auth_proto': switch.auth_proto | default('') }) %}
{% endif %}
{% if switch.max_hops is defined %}
{% set _ = switch_item.update({'max_hops': switch.max_hops | default('') }) %}
{% endif %}
{% if switch.preserve_config is defined %}
{% set _ = switch_item.update({'preserve_config': switch.preserve_config | default('') }) %}
{% else %}
{% set _ = switch_item.update({'preserve_config': false }) %}
{% endif %}
{% endif %}
{% set _ = switch_list.append(switch_item) %}
{% endfor %}
{{ switch_list | to_nice_yaml(indent=2) }}
{% endif %}